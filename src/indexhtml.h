#define INDEX_HTML (F("<!doctype html><meta charset=UTF-8><title>CO2 monitor</title><canvas id=chart></canvas><script src=https://cdn.jsdelivr.net/npm/chart.js@3.5.1></script><script src=https://cdn.jsdelivr.net/npm/moment@2.29.1></script><script src=https://cdn.jsdelivr.net/npm/chartjs-adapter-moment@1.0.0></script><script>const chart=new Chart(document.getElementById(\"chart\"),{type:\"line\",data:{labels:[],datasets:[{data:[],label:\"CO2(ppm)\",borderColor:\"#FF5F47\",yAxisID:\"y\"},{data:[],label:\"Temperature(Celsius)\",borderColor:\"#9CA4FF\",yAxisID:\"y1\"}]},options:{responsive:!0,interaction:{mode:\"index\",intersect:!1},plugins:{title:{display:!0,text:\"CO2 Monitor\"}},scales:{y:{type:\"linear\",position:\"left\",suggestedMin:400,suggestedMax:1e3},y1:{type:\"linear\",position:\"right\",suggestedMin:20,suggestedMax:30,grid:{drawOnChartArea:!1}},x:{type:\"time\",time:{displayFormats:{millisecond:\"H:mm:ss.SSS\",second:\"H:mm:ss\",minute:\"H:mm\",hour:\"H:mm\",day:\"H:mm\",week:\"H:mm\",month:\"H:mm\",quarter:\"H:mm\",year:\"H:mm\"}}}}}});async function fetchDataAndDrawGraph(){try{const t=await(await fetch(\"/histories\")).json(),e=[];for(let a=0;a<t.times.length;a++)e.push(new Date(Date.now()-t.times[a]));chart.data.labels=e,chart.data.datasets[0].data=t.co2Logs,chart.data.datasets[1].data=t.temperatureLogs,chart.update()}catch(t){console.log(\"Error cannot get historiesdata\",t)}setTimeout(fetchDataAndDrawGraph,5e3)}fetchDataAndDrawGraph(),setTimeout(fetchDataAndDrawGraph,5e3)</script>"))